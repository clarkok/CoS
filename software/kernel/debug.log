clang-3.8 -Wall -m32 -g -I . -D__TEST__ -Ithird_party/cutest/ -o test/test test/test.c third_party/cutest/CuTest.c utils/sb-tree.c mm/buddy.c mm/slab.c mm/linked-buddy.c
./test/test
: add ref 0x812
Dump:
    key: 0x812	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: add ref 0x812
Dump:
    key: 0x812	count: 0x2	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: rm ref 0x812
Dump:
    key: 0x812	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: rm ref 0x812
Dump:

: add ref 0x812
Dump:
    key: 0x812	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: add ref 0x812
Dump:
    key: 0x812	count: 0x2	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: add ref 0x817
Dump:
    key: 0x812	count: 0x2	this:0x92512d0	left: 0x0	right: 0x92512f0	parent: 0x0	size: 0x2
    key: 0x817	count: 0x1	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x92512d0	size: 0x1

: rm ref 0x812
Dump:
    key: 0x812	count: 0x1	this:0x92512d0	left: 0x0	right: 0x92512f0	parent: 0x0	size: 0x2
    key: 0x817	count: 0x1	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x92512d0	size: 0x1

: rm ref 0x817
Dump:
    key: 0x812	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: rm ref 0x812
Dump:

: add ref 0x812
Dump:
    key: 0x812	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: add ref 0x812
Dump:
    key: 0x812	count: 0x2	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: add ref 0x817
Dump:
    key: 0x812	count: 0x2	this:0x92512d0	left: 0x0	right: 0x92512f0	parent: 0x0	size: 0x2
    key: 0x817	count: 0x1	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x92512d0	size: 0x1

: add ref 0x81e
Dump:
    key: 0x812	count: 0x2	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1
    key: 0x817	count: 0x1	this:0x92512f0	left: 0x92512d0	right: 0x9251310	parent: 0x0	size: 0x3
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: add ref 0x817
Dump:
    key: 0x812	count: 0x2	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1
    key: 0x817	count: 0x2	this:0x92512f0	left: 0x92512d0	right: 0x9251310	parent: 0x0	size: 0x3
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: add ref 0x817
Dump:
    key: 0x812	count: 0x2	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1
    key: 0x817	count: 0x3	this:0x92512f0	left: 0x92512d0	right: 0x9251310	parent: 0x0	size: 0x3
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: rm ref 0x812
Dump:
    key: 0x812	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1
    key: 0x817	count: 0x3	this:0x92512f0	left: 0x92512d0	right: 0x9251310	parent: 0x0	size: 0x3
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: add ref 0x817
Dump:
    key: 0x812	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1
    key: 0x817	count: 0x4	this:0x92512f0	left: 0x92512d0	right: 0x9251310	parent: 0x0	size: 0x3
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: add ref 0x81e
Dump:
    key: 0x812	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1
    key: 0x817	count: 0x4	this:0x92512f0	left: 0x92512d0	right: 0x9251310	parent: 0x0	size: 0x3
    key: 0x81e	count: 0x2	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: rm ref 0x812
Dump:
    key: 0x817	count: 0x4	this:0x92512f0	left: 0x0	right: 0x9251310	parent: 0x0	size: 0x2
    key: 0x81e	count: 0x2	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: rm ref 0x817
Dump:
    key: 0x817	count: 0x3	this:0x92512f0	left: 0x0	right: 0x9251310	parent: 0x0	size: 0x2
    key: 0x81e	count: 0x2	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: rm ref 0x81e
Dump:
    key: 0x817	count: 0x3	this:0x92512f0	left: 0x0	right: 0x9251310	parent: 0x0	size: 0x2
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: rm ref 0x817
Dump:
    key: 0x817	count: 0x2	this:0x92512f0	left: 0x0	right: 0x9251310	parent: 0x0	size: 0x2
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: rm ref 0x817
Dump:
    key: 0x817	count: 0x1	this:0x92512f0	left: 0x0	right: 0x9251310	parent: 0x0	size: 0x2
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: add ref 0x82b
Dump:
    key: 0x817	count: 0x1	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x92512f0	right: 0x92512d0	parent: 0x0	size: 0x3
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1

: rm ref 0x817
Dump:
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x92512d0	parent: 0x0	size: 0x2
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1

: add ref 0x81e
Dump:
    key: 0x81e	count: 0x2	this:0x9251310	left: 0x0	right: 0x92512d0	parent: 0x0	size: 0x2
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1

: rm ref 0x81e
Dump:
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x0	right: 0x92512d0	parent: 0x0	size: 0x2
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1

: add ref 0x812
Dump:
    key: 0x812	count: 0x1	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x92512f0	right: 0x92512d0	parent: 0x0	size: 0x3
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1

: add ref 0x812
Dump:
    key: 0x812	count: 0x2	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x92512f0	right: 0x92512d0	parent: 0x0	size: 0x3
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1

: rm ref 0x82b
Dump:
    key: 0x812	count: 0x2	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1
    key: 0x81e	count: 0x1	this:0x9251310	left: 0x92512f0	right: 0x0	parent: 0x0	size: 0x2

: rm ref 0x81e
Dump:
    key: 0x812	count: 0x2	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: rm ref 0x812
Dump:
    key: 0x812	count: 0x1	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x0	size: 0x1

: add ref 0x833
Dump:
    key: 0x812	count: 0x1	this:0x92512f0	left: 0x0	right: 0x9251310	parent: 0x0	size: 0x2
    key: 0x833	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512f0	size: 0x1

: add ref 0x82b
Dump:
    key: 0x812	count: 0x1	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x92512d0	size: 0x1
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x92512f0	right: 0x9251310	parent: 0x0	size: 0x3
    key: 0x833	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512d0	size: 0x1

: rm ref 0x812
Dump:
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x0	right: 0x9251310	parent: 0x0	size: 0x2
    key: 0x833	count: 0x1	this:0x9251310	left: 0x0	right: 0x0	parent: 0x92512d0	size: 0x1

: add ref 0x841
Dump:
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1
    key: 0x833	count: 0x1	this:0x9251310	left: 0x92512d0	right: 0x92512f0	parent: 0x0	size: 0x3
    key: 0x841	count: 0x1	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x9251310	size: 0x1

: rm ref 0x833
Dump:
    key: 0x82b	count: 0x1	this:0x92512d0	left: 0x0	right: 0x92512f0	parent: 0x0	size: 0x2
    key: 0x841	count: 0x1	this:0x92512f0	left: 0x0	right: 0x0	parent: 0x92512d0	size: 0x1

.....................

OK (21 tests)

